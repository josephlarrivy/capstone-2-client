{"ast":null,"code":"import _defineProperty from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from'react-router-dom';import BackendApiRequest from\"../apis/backendApi\";import NavBar from\"../NavBar\";import{AxiosError}from\"axios\";import useLocalStorage from\"../hooks/useLocalStorage\";import'../css/TripNameForm.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TripNameForm=function TripNameForm(_ref){var token=_ref.token,setToken=_ref.setToken,getTrips=_ref.getTrips;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var navigate=useNavigate();var _useLocalStorage=useLocalStorage(),_useLocalStorage2=_slicedToArray(_useLocalStorage,4),localStoreToken=_useLocalStorage2[0],localRemoveToken=_useLocalStorage2[1],localRetrieveToken=_useLocalStorage2[2],localDecodeToken=_useLocalStorage2[3];useEffect(function(){var getUsername=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return localDecodeToken();case 2:token=_context.sent;// console.log(token.username)\nsetUsername(token.username);case 4:case\"end\":return _context.stop();}},_callee);}));return function getUsername(){return _ref2.apply(this,arguments);};}();getUsername();},[]);var INITIAL_STATE={'tripname':''};var _useState5=useState(INITIAL_STATE),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var handleChange=function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(data){var _objectSpread2;return _objectSpread(_objectSpread({},data),{},(_objectSpread2={},_defineProperty(_objectSpread2,name,value),_defineProperty(_objectSpread2,'username',username),_objectSpread2));});};var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(evt){var request;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:evt.preventDefault();_context2.next=3;return BackendApiRequest.addTripName(formData);case 3:request=_context2.sent;if(!(request instanceof AxiosError)){_context2.next=9;break;}setError('AxiosError');return _context2.abrupt(\"return\",'error');case 9:console.log('good request');case 10:setFormData(INITIAL_STATE);getTrips();case 12:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/ (// <div id=\"trip-form-main-container\">\n//   <div id=\"form-inner-container\">\n_jsxs(\"div\",{id:\"trip-name-form-container\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Name your next adventure\"}),error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Error:\"}),/*#__PURE__*/_jsx(\"p\",{children:error})]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{required:true,id:formData.tripname,type:\"text\",name:\"tripname\"// placeholder=\"password\"\n,value:formData.tripname,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tripname\",className:\"label\",children:\"Trip Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"submit-button\",children:\"Submit\"})]})]})//   </div>\n// </div>\n);};export default TripNameForm;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","BackendApiRequest","NavBar","AxiosError","useLocalStorage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TripNameForm","_ref","token","setToken","getTrips","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","username","setUsername","navigate","_useLocalStorage","_useLocalStorage2","localStoreToken","localRemoveToken","localRetrieveToken","localDecodeToken","getUsername","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","stop","apply","arguments","INITIAL_STATE","_useState5","_useState6","formData","setFormData","handleChange","evt","_evt$target","target","name","value","data","_objectSpread2","_objectSpread","_defineProperty","handleSubmit","_ref3","_callee2","request","_callee2$","_context2","preventDefault","addTripName","abrupt","console","log","_x","id","children","className","onSubmit","required","tripname","type","onChange","htmlFor"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/forms/TripNameForm.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport BackendApiRequest from \"../apis/backendApi\";\nimport NavBar from \"../NavBar\";\nimport { AxiosError } from \"axios\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nimport '../css/TripNameForm.css'\n\nconst TripNameForm = ({ token, setToken, getTrips }) => {\n\n  const [error, setError] = useState(null)\n  const [username, setUsername] = useState(null)\n  const navigate = useNavigate();\n  const [localStoreToken, localRemoveToken, localRetrieveToken, localDecodeToken] = useLocalStorage()\n\n  useEffect(() => {\n    const getUsername = async () => {\n      const token = await localDecodeToken()\n      // console.log(token.username)\n      setUsername(token.username)\n    }\n    getUsername()\n  }, [])\n\n  const INITIAL_STATE = {\n    'tripname': '',\n  }\n  const [formData, setFormData] = useState(INITIAL_STATE)\n\n  const handleChange = evt => {\n    const { name, value } = evt.target;\n    setFormData(data => ({\n      ...data,\n      [name]: value,\n      'username': username\n    }));\n  };\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n    const request = await BackendApiRequest.addTripName(formData)\n    if (request instanceof AxiosError) {\n      setError('AxiosError')\n      return 'error'\n    } else {\n      console.log('good request')\n    }\n    setFormData(INITIAL_STATE)\n    getTrips()\n  }\n\n\n\n  return (\n    // <div id=\"trip-form-main-container\">\n    //   <div id=\"form-inner-container\">\n        <div id=\"trip-name-form-container\">\n          <h4>Name your next adventure</h4>\n          {error\n            ? <div className=\"error-container\">\n              <p>Error:</p>\n              <p>{error}</p>\n            </div>\n            : <></>\n          }\n          <form onSubmit={handleSubmit}>\n\n            <input\n              required\n              id={formData.tripname}\n              type=\"text\"\n              name=\"tripname\"\n              // placeholder=\"password\"\n              value={formData.tripname}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"tripname\" className=\"label\">Trip Name</label>\n            <br></br><br></br>\n\n            <button id=\"submit-button\">Submit</button>\n          </form>\n        </div>\n    //   </div>\n    // </div>\n  )\n}\n\nexport default TripNameForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}