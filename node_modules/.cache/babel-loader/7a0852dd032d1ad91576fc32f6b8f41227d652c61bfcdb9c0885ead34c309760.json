{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import BackendApiRequest from\"../apis/backendApi\";var useLocalStorage=function useLocalStorage(){var localStoreToken=function localStoreToken(token){localStorage.setItem('token',token);};var localRemoveToken=function localRemoveToken(){localStorage.removeItem('token');};var localRetrieveToken=function localRetrieveToken(){var token=localStorage.getItem('token');return token;};var localDecodeToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var storedToken,decodedToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:storedToken=localStorage.getItem('token');_context.next=3;return BackendApiRequest.decodeToken(storedToken);case 3:decodedToken=_context.sent;if(!(decodedToken=='invalid')){_context.next=8;break;}return _context.abrupt(\"return\",null);case 8:return _context.abrupt(\"return\",decodedToken);case 9:case\"end\":return _context.stop();}},_callee);}));return function localDecodeToken(){return _ref.apply(this,arguments);};}();return[localStoreToken,localRemoveToken,localRetrieveToken,localDecodeToken];};export default useLocalStorage;","map":{"version":3,"names":["BackendApiRequest","useLocalStorage","localStoreToken","token","localStorage","setItem","localRemoveToken","removeItem","localRetrieveToken","getItem","localDecodeToken","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","storedToken","decodedToken","wrap","_callee$","_context","prev","next","decodeToken","sent","abrupt","stop","apply","arguments"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/hooks/useLocalStorage.js"],"sourcesContent":["import BackendApiRequest from \"../apis/backendApi\";\n\nconst useLocalStorage = () => {\n\n  const localStoreToken = (token) => {\n    localStorage.setItem('token', token)\n  }\n\n  const localRemoveToken = () => {\n    localStorage.removeItem('token')\n  }\n\n  const localRetrieveToken = () => {\n    const token = localStorage.getItem('token')\n    return token\n  }\n\n  const localDecodeToken = async () => {\n    const storedToken = localStorage.getItem('token')\n    const decodedToken = await BackendApiRequest.decodeToken(storedToken)\n    if (decodedToken == 'invalid') {\n      return null;\n    } else {\n      return decodedToken;\n    }\n  }\n\n  return [localStoreToken, localRemoveToken, localRetrieveToken, localDecodeToken];\n};\n\nexport default useLocalStorage;"],"mappings":"gXAAA,MAAO,CAAAA,iBAAiB,KAAM,oBAAoB,CAElD,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAE5B,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIC,KAAK,CAAK,CACjCC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,KAAK,CAAC,CACtC,CAAC,CAED,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAClC,CAAC,CAED,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAM,CAAAL,KAAK,CAAGC,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC,CAC3C,MAAO,CAAAN,KAAK,CACd,CAAC,CAED,GAAM,CAAAO,gBAAgB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,WAAA,CAAAC,YAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACjBN,WAAW,CAAGZ,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC,CAAAW,QAAA,CAAAE,IAAA,SACtB,CAAAtB,iBAAiB,CAACuB,WAAW,CAACP,WAAW,CAAC,QAA/DC,YAAY,CAAAG,QAAA,CAAAI,IAAA,MACdP,YAAY,EAAI,SAAS,GAAAG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAK,MAAA,UACpB,IAAI,gBAAAL,QAAA,CAAAK,MAAA,UAEJR,YAAY,0BAAAG,QAAA,CAAAM,IAAA,MAAAX,OAAA,GAEtB,kBARK,CAAAL,gBAAgBA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAQrB,CAED,MAAO,CAAC1B,eAAe,CAAEI,gBAAgB,CAAEE,kBAAkB,CAAEE,gBAAgB,CAAC,CAClF,CAAC,CAED,cAAe,CAAAT,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}