{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";// import WeatherAPI from \"../apis/weatherApi\";\n// import { weatherApiKey } from '../keys'\nvar weatherApiKey=weatherApiKey_heroku;import'../css/Weather.css';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var weatherAPI=new WeatherAPI(\"0486eaf725aeecc834735c80086222e9\");var Weather=function Weather(_ref){var centerPosition=_ref.centerPosition;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),weather=_useState2[0],setWeather=_useState2[1];useEffect(function(){var getWeatherData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,_data$slice,_data$slice2,first,last;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return weatherAPI.getWeather(centerPosition[0],centerPosition[1]);case 2:data=_context.sent;// console.log(data)\n_data$slice=data.slice(0,3),_data$slice2=_slicedToArray(_data$slice,3),first=_data$slice2[0],last=_data$slice2[2];setWeather([first,last]);case 5:case\"end\":return _context.stop();}},_callee);}));return function getWeatherData(){return _ref2.apply(this,arguments);};}();getWeatherData();},[]);function convertTimestampToDayAndTime(timestamp){var date=new Date(timestamp);var daysOfWeek=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var dayOfWeek=daysOfWeek[date.getDay()];var hours=date.getHours();var minutes=date.getMinutes();var ampm=hours>=12?'PM':'AM';var formattedHours=hours%12||12;var formattedMinutes=minutes<10?\"0\".concat(minutes):minutes;var time=\"\".concat(formattedHours,\":\").concat(formattedMinutes,\" \").concat(ampm);return\"\".concat(dayOfWeek,\" \").concat(time);}if(weather===null){return/*#__PURE__*/_jsx(_Fragment,{});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"weather-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"weather-days-container\",children:weather&&weather.map(function(w){var convertedDay=convertTimestampToDayAndTime(w.date.getTime());return/*#__PURE__*/_jsxs(\"div\",{className:\"weather-day\",children:[/*#__PURE__*/_jsx(\"p\",{children:convertedDay}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-image\",style:{backgroundImage:\"url(\".concat(w.iconUrl,\")\")}},w.temperature),/*#__PURE__*/_jsx(\"p\",{children:w.description}),/*#__PURE__*/_jsxs(\"p\",{children:[w.temperature,\" \\u2109\"]})]},w.date);})},'weather-days-container')},\"weather-container\");}};export default Weather;","map":{"version":3,"names":["React","useEffect","useState","weatherApiKey","weatherApiKey_heroku","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","weatherAPI","WeatherAPI","Weather","_ref","centerPosition","_useState","_useState2","_slicedToArray","weather","setWeather","getWeatherData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","_data$slice","_data$slice2","first","last","wrap","_callee$","_context","prev","next","getWeather","sent","slice","stop","apply","arguments","convertTimestampToDayAndTime","timestamp","date","Date","daysOfWeek","dayOfWeek","getDay","hours","getHours","minutes","getMinutes","ampm","formattedHours","formattedMinutes","concat","time","className","children","map","w","convertedDay","getTime","style","backgroundImage","iconUrl","temperature","description"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/components/Weather.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\n// import WeatherAPI from \"../apis/weatherApi\";\n// import { weatherApiKey } from '../keys'\nconst weatherApiKey = weatherApiKey_heroku\n\nimport '../css/Weather.css'\n\nconst weatherAPI = new WeatherAPI(\"0486eaf725aeecc834735c80086222e9\");\n\n\nconst Weather = ({centerPosition}) => {\n\n  const [weather, setWeather] = useState(null)\n\n  useEffect(() => {\n    const getWeatherData = async () => {\n      const data = await weatherAPI.getWeather(centerPosition[0], centerPosition[1])\n      // console.log(data)\n      const [first, , last] = data.slice(0, 3)\n      setWeather([first, last])\n    }\n    getWeatherData()\n  }, [])\n\n  function convertTimestampToDayAndTime(timestamp) {\n    const date = new Date(timestamp);\n    const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const dayOfWeek = daysOfWeek[date.getDay()];\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    const ampm = hours >= 12 ? 'PM' : 'AM';\n    const formattedHours = hours % 12 || 12;\n    const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;\n    const time = `${formattedHours}:${formattedMinutes} ${ampm}`;\n    return `${dayOfWeek} ${time}`;\n  }\n\n\n  if (weather === null) {\n    return (\n      <></>\n    )\n  } else {\n    return(\n      <div key=\"weather-container\" className=\"weather-container\">\n        {/* <h2>Weather Forcast</h2> */}\n        <div key='weather-days-container' className='weather-days-container'>\n          {weather && weather.map(w => {\n\n            const convertedDay = convertTimestampToDayAndTime(w.date.getTime())\n\n            return (\n              <div key={w.date} className=\"weather-day\">\n                <p>{convertedDay}</p>\n\n                <div\n                  className='weather-image'\n                  key={w.temperature}\n                  style={{\n                    backgroundImage: `url(${w.iconUrl})`\n                  }}\n                ></div>\n\n                <p>{w.description}</p>\n                <p>{w.temperature} &#8457;</p>\n\n\n              </div>\n            )\n          }\n          )}\n        </div>\n      </div>\n      \n    )\n  }\n}\n\nexport default Weather;"],"mappings":"giBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD;AACA;AACA,GAAM,CAAAC,aAAa,CAAGC,oBAAoB,CAE1C,MAAO,oBAAoB,QAAAC,QAAA,IAAAC,SAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3B,GAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,UAAU,CAAC,kCAAkC,CAAC,CAGrE,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAAC,IAAA,CAAyB,IAApB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAE9B,IAAAC,SAAA,CAA8Bd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BhB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoB,cAAc,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,CAAAC,WAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAC,IAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACF,CAAAzB,UAAU,CAAC0B,UAAU,CAACtB,cAAc,CAAC,CAAC,CAAC,CAAEA,cAAc,CAAC,CAAC,CAAC,CAAC,QAAxEY,IAAI,CAAAO,QAAA,CAAAI,IAAA,CACV;AAAAV,WAAA,CACwBD,IAAI,CAACY,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAAV,YAAA,CAAAX,cAAA,CAAAU,WAAA,IAAjCE,KAAK,CAAAD,YAAA,IAAIE,IAAI,CAAAF,YAAA,IACpBT,UAAU,CAAC,CAACU,KAAK,CAAEC,IAAI,CAAC,CAAC,yBAAAG,QAAA,CAAAM,IAAA,MAAAd,OAAA,GAC1B,kBALK,CAAAL,cAAcA,CAAA,SAAAC,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OAKnB,CACDrB,cAAc,EAAE,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAsB,4BAA4BA,CAACC,SAAS,CAAE,CAC/C,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,SAAS,CAAC,CAChC,GAAM,CAAAG,UAAU,CAAG,CAAC,QAAQ,CAAE,QAAQ,CAAE,SAAS,CAAE,WAAW,CAAE,UAAU,CAAE,QAAQ,CAAE,UAAU,CAAC,CACjG,GAAM,CAAAC,SAAS,CAAGD,UAAU,CAACF,IAAI,CAACI,MAAM,EAAE,CAAC,CAC3C,GAAM,CAAAC,KAAK,CAAGL,IAAI,CAACM,QAAQ,EAAE,CAC7B,GAAM,CAAAC,OAAO,CAAGP,IAAI,CAACQ,UAAU,EAAE,CACjC,GAAM,CAAAC,IAAI,CAAGJ,KAAK,EAAI,EAAE,CAAG,IAAI,CAAG,IAAI,CACtC,GAAM,CAAAK,cAAc,CAAGL,KAAK,CAAG,EAAE,EAAI,EAAE,CACvC,GAAM,CAAAM,gBAAgB,CAAGJ,OAAO,CAAG,EAAE,KAAAK,MAAA,CAAOL,OAAO,EAAKA,OAAO,CAC/D,GAAM,CAAAM,IAAI,IAAAD,MAAA,CAAMF,cAAc,MAAAE,MAAA,CAAID,gBAAgB,MAAAC,MAAA,CAAIH,IAAI,CAAE,CAC5D,SAAAG,MAAA,CAAUT,SAAS,MAAAS,MAAA,CAAIC,IAAI,EAC7B,CAGA,GAAIvC,OAAO,GAAK,IAAI,CAAE,CACpB,mBACEX,IAAA,CAAAF,SAAA,IAAK,CAET,CAAC,IAAM,CACL,mBACEE,IAAA,QAA6BmD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAExDpD,IAAA,QAAkCmD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACjEzC,OAAO,EAAIA,OAAO,CAAC0C,GAAG,CAAC,SAAAC,CAAC,CAAI,CAE3B,GAAM,CAAAC,YAAY,CAAGpB,4BAA4B,CAACmB,CAAC,CAACjB,IAAI,CAACmB,OAAO,EAAE,CAAC,CAEnE,mBACEtD,KAAA,QAAkBiD,SAAS,CAAC,aAAa,CAAAC,QAAA,eACvCpD,IAAA,MAAAoD,QAAA,CAAIG,YAAY,EAAK,cAErBvD,IAAA,QACEmD,SAAS,CAAC,eAAe,CAEzBM,KAAK,CAAE,CACLC,eAAe,QAAAT,MAAA,CAASK,CAAC,CAACK,OAAO,KACnC,CAAE,EAHGL,CAAC,CAACM,WAAW,CAIb,cAEP5D,IAAA,MAAAoD,QAAA,CAAIE,CAAC,CAACO,WAAW,EAAK,cACtB3D,KAAA,MAAAkD,QAAA,EAAIE,CAAC,CAACM,WAAW,CAAC,SAAQ,GAAI,GAZtBN,CAAC,CAACjB,IAAI,CAeV,CAEV,CAAC,CACA,EAxBM,wBAAwB,CAyB3B,EA3BC,mBAAmB,CA4BtB,CAGV,CACF,CAAC,CAED,cAAe,CAAAhC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}