{"ast":null,"code":"import axios from \"axios\";\nimport { parks_api_key } from \"../keys\";\nconst PARKS_BASE_URL = \"https://developer.nps.gov/api/v1\";\nclass NParksServiceRequest {\n  static async makeRequest(endpoint) {\n    try {\n      const headers = {\n        \"X-Api-Key\": parks_api_key\n      };\n      const method = 'get';\n      const url = `${PARKS_BASE_URL}${endpoint}`;\n      const resp = await axios({\n        method,\n        url,\n        headers\n      });\n      console.log(url);\n      return resp;\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  static async getAllParks() {\n    let limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '700';\n    const resp = await this.makeRequest(`/parks?limit=${limit}`);\n    const list = resp.data.data;\n    const parksArray = [];\n    for (let park of list) {\n      parksArray.push(park);\n    }\n    return parksArray;\n  }\n  static async getSingleParkData(code) {\n    const resp = await this.makeRequest(`/parks?parkCode=${code}`);\n    const singleParkData = resp.data.data[0];\n    return singleParkData;\n  }\n  static async getRandomImages() {\n    let limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '700';\n    const resp = await this.makeRequest(`/parks?limit=${limit}`);\n    const list = resp.data.data;\n    const idxArr = [];\n    while (idxArr.length < 12) {\n      const num = Math.floor(Math.random() * 468);\n      if (!idxArr.includes(num)) {\n        idxArr.push(num);\n      }\n    }\n    const parksArray = [];\n    for (let park of list) {\n      parksArray.push(park);\n    }\n    console.log(parksArray);\n    const imagesArray = [];\n    for (let idx of idxArr) {\n      const parkName = parksArray[idx].name;\n      const imageUrl = parksArray[idx].images[0].url;\n      const state = parksArray[idx].states;\n      const parkCode = parksArray[idx].parkCode;\n      imagesArray.push({\n        parkName,\n        imageUrl,\n        state,\n        parkCode\n      });\n    }\n    return imagesArray;\n  }\n  static async getSupplementalData(type, USstate) {\n    if (type === 'events') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`);\n      console.log(resp.data.data);\n    } else if (type === 'articles') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`);\n      console.log(resp.data.data);\n    } else if (type === 'thingstodo') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`);\n      console.log(resp.data.data);\n    }\n    const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`);\n    console.log(resp.data.data);\n    return 'success';\n  }\n}\nexport default NParksServiceRequest;","map":{"version":3,"names":["axios","parks_api_key","PARKS_BASE_URL","NParksServiceRequest","makeRequest","endpoint","headers","method","url","resp","console","log","err","error","getAllParks","limit","arguments","length","undefined","list","data","parksArray","park","push","getSingleParkData","code","singleParkData","getRandomImages","idxArr","num","Math","floor","random","includes","imagesArray","idx","parkName","name","imageUrl","images","state","states","parkCode","getSupplementalData","type","USstate"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/front-end/src/apis/nationalParksApi.js"],"sourcesContent":["import axios from \"axios\";\n\nimport { parks_api_key } from \"../keys\";\n\nconst PARKS_BASE_URL = \"https://developer.nps.gov/api/v1\";\n\nclass NParksServiceRequest {\n\n  static async makeRequest(endpoint) {\n    try {\n      const headers = { \"X-Api-Key\": parks_api_key };\n      const method = 'get'\n      const url = `${PARKS_BASE_URL}${endpoint}`\n      const resp = await axios({ method, url, headers })\n      console.log(url)\n      return (resp)\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  static async getAllParks(limit='700') {\n    const resp = await this.makeRequest(`/parks?limit=${limit}`)\n    const list = resp.data.data\n\n    const parksArray = []\n    for (let park of list) {\n      parksArray.push(park)\n    }\n    return parksArray\n  }\n\n  static async getSingleParkData(code) {\n    const resp = await this.makeRequest(`/parks?parkCode=${code}`)\n    const singleParkData = (resp.data.data[0])\n    return singleParkData\n  }\n\n  static async getRandomImages(limit = '700') {\n    const resp = await this.makeRequest(`/parks?limit=${limit}`)\n    const list = resp.data.data\n\n    const idxArr = []\n    while (idxArr.length < 12) {\n      const num = Math.floor(Math.random()*468)\n      if (!idxArr.includes(num)) {\n        idxArr.push(num)\n      }\n    }\n\n    const parksArray = []\n    for (let park of list) {\n      parksArray.push(park)\n    }\n    console.log(parksArray)\n\n    const imagesArray = []\n    for (let idx of idxArr) {\n      const parkName = parksArray[idx].name\n      const imageUrl = parksArray[idx].images[0].url\n      const state = parksArray[idx].states\n      const parkCode = parksArray[idx].parkCode\n      imagesArray.push({parkName, imageUrl, state, parkCode})\n    }\n    \n    return imagesArray\n  }\n\n  static async getSupplementalData(type, USstate) {\n\n    if (type === 'events') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`)\n      console.log(resp.data.data)\n\n    } else if (type === 'articles') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`)\n      console.log(resp.data.data)\n\n    } else if (type === 'thingstodo') {\n      const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`)\n      console.log(resp.data.data)\n\n    }\n\n    const resp = await this.makeRequest(`/${type}?stateCode=${USstate}`)\n    console.log(resp.data.data)\n\n    return 'success'\n  }\n\n\n}\n\nexport default NParksServiceRequest;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,aAAa,QAAQ,SAAS;AAEvC,MAAMC,cAAc,GAAG,kCAAkC;AAEzD,MAAMC,oBAAoB,CAAC;EAEzB,aAAaC,WAAWA,CAACC,QAAQ,EAAE;IACjC,IAAI;MACF,MAAMC,OAAO,GAAG;QAAE,WAAW,EAAEL;MAAc,CAAC;MAC9C,MAAMM,MAAM,GAAG,KAAK;MACpB,MAAMC,GAAG,GAAI,GAAEN,cAAe,GAAEG,QAAS,EAAC;MAC1C,MAAMI,IAAI,GAAG,MAAMT,KAAK,CAAC;QAAEO,MAAM;QAAEC,GAAG;QAAEF;MAAQ,CAAC,CAAC;MAClDI,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,OAAQC,IAAI;IACd,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZF,OAAO,CAACG,KAAK,CAACD,GAAG,CAAC;IACpB;EACF;EAEA,aAAaE,WAAWA,CAAA,EAAc;IAAA,IAAbC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAC,KAAK;IAClC,MAAMP,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,gBAAeW,KAAM,EAAC,CAAC;IAC5D,MAAMI,IAAI,GAAGV,IAAI,CAACW,IAAI,CAACA,IAAI;IAE3B,MAAMC,UAAU,GAAG,EAAE;IACrB,KAAK,IAAIC,IAAI,IAAIH,IAAI,EAAE;MACrBE,UAAU,CAACE,IAAI,CAACD,IAAI,CAAC;IACvB;IACA,OAAOD,UAAU;EACnB;EAEA,aAAaG,iBAAiBA,CAACC,IAAI,EAAE;IACnC,MAAMhB,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,mBAAkBqB,IAAK,EAAC,CAAC;IAC9D,MAAMC,cAAc,GAAIjB,IAAI,CAACW,IAAI,CAACA,IAAI,CAAC,CAAC,CAAE;IAC1C,OAAOM,cAAc;EACvB;EAEA,aAAaC,eAAeA,CAAA,EAAgB;IAAA,IAAfZ,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IACxC,MAAMP,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,gBAAeW,KAAM,EAAC,CAAC;IAC5D,MAAMI,IAAI,GAAGV,IAAI,CAACW,IAAI,CAACA,IAAI;IAE3B,MAAMQ,MAAM,GAAG,EAAE;IACjB,OAAOA,MAAM,CAACX,MAAM,GAAG,EAAE,EAAE;MACzB,MAAMY,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAC,GAAG,CAAC;MACzC,IAAI,CAACJ,MAAM,CAACK,QAAQ,CAACJ,GAAG,CAAC,EAAE;QACzBD,MAAM,CAACL,IAAI,CAACM,GAAG,CAAC;MAClB;IACF;IAEA,MAAMR,UAAU,GAAG,EAAE;IACrB,KAAK,IAAIC,IAAI,IAAIH,IAAI,EAAE;MACrBE,UAAU,CAACE,IAAI,CAACD,IAAI,CAAC;IACvB;IACAZ,OAAO,CAACC,GAAG,CAACU,UAAU,CAAC;IAEvB,MAAMa,WAAW,GAAG,EAAE;IACtB,KAAK,IAAIC,GAAG,IAAIP,MAAM,EAAE;MACtB,MAAMQ,QAAQ,GAAGf,UAAU,CAACc,GAAG,CAAC,CAACE,IAAI;MACrC,MAAMC,QAAQ,GAAGjB,UAAU,CAACc,GAAG,CAAC,CAACI,MAAM,CAAC,CAAC,CAAC,CAAC/B,GAAG;MAC9C,MAAMgC,KAAK,GAAGnB,UAAU,CAACc,GAAG,CAAC,CAACM,MAAM;MACpC,MAAMC,QAAQ,GAAGrB,UAAU,CAACc,GAAG,CAAC,CAACO,QAAQ;MACzCR,WAAW,CAACX,IAAI,CAAC;QAACa,QAAQ;QAAEE,QAAQ;QAAEE,KAAK;QAAEE;MAAQ,CAAC,CAAC;IACzD;IAEA,OAAOR,WAAW;EACpB;EAEA,aAAaS,mBAAmBA,CAACC,IAAI,EAAEC,OAAO,EAAE;IAE9C,IAAID,IAAI,KAAK,QAAQ,EAAE;MACrB,MAAMnC,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,IAAGwC,IAAK,cAAaC,OAAQ,EAAC,CAAC;MACpEnC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACW,IAAI,CAACA,IAAI,CAAC;IAE7B,CAAC,MAAM,IAAIwB,IAAI,KAAK,UAAU,EAAE;MAC9B,MAAMnC,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,IAAGwC,IAAK,cAAaC,OAAQ,EAAC,CAAC;MACpEnC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACW,IAAI,CAACA,IAAI,CAAC;IAE7B,CAAC,MAAM,IAAIwB,IAAI,KAAK,YAAY,EAAE;MAChC,MAAMnC,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,IAAGwC,IAAK,cAAaC,OAAQ,EAAC,CAAC;MACpEnC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACW,IAAI,CAACA,IAAI,CAAC;IAE7B;IAEA,MAAMX,IAAI,GAAG,MAAM,IAAI,CAACL,WAAW,CAAE,IAAGwC,IAAK,cAAaC,OAAQ,EAAC,CAAC;IACpEnC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACW,IAAI,CAACA,IAAI,CAAC;IAE3B,OAAO,SAAS;EAClB;AAGF;AAEA,eAAejB,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}