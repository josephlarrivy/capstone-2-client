{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";var weatherAPI=/*#__PURE__*/function(){function weatherAPI(weatherApiKey){_classCallCheck(this,weatherAPI);this.convertCELtoFAH=function(num){var converted=Math.floor(num*1.8+32);return converted;};this.apiKey=weatherApiKey_heroku;this.baseURL=\"https://api.openweathermap.org/data/2.5/forecast\";}_createClass(weatherAPI,[{key:\"getWeather\",value:function(){var _getWeather=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(latitude,longitude){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:url=\"\".concat(this.baseURL,\"?lat=\").concat(latitude,\"&lon=\").concat(longitude,\"&appid=\").concat(this.apiKey,\"&units=metric\");_context.next=3;return fetch(url);case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(\"Unable to get weather data: \".concat(response.status));case 6:_context.next=8;return response.json();case 8:data=_context.sent;return _context.abrupt(\"return\",this.formatData(data));case 10:case\"end\":return _context.stop();}},_callee,this);}));function getWeather(_x,_x2){return _getWeather.apply(this,arguments);}return getWeather;}()},{key:\"formatData\",value:function formatData(data){var formattedData=[];for(var i=0;i<5;i+=2){var convertedTemp=this.convertCELtoFAH(data.list[i].main.temp);var weather={date:new Date(data.list[i].dt*1000),temperature:convertedTemp,description:data.list[i].weather[0].description,icon:data.list[i].weather[0].icon,iconUrl:\"https://openweathermap.org/img/wn/\".concat(data.list[i].weather[0].icon,\"@2x.png\")};formattedData.push(weather);}return formattedData;}}]);return weatherAPI;}();export default weatherAPI;","map":{"version":3,"names":["weatherAPI","weatherApiKey","_classCallCheck","convertCELtoFAH","num","converted","Math","floor","apiKey","weatherApiKey_heroku","baseURL","_createClass","key","value","_getWeather","_asyncToGenerator","_regeneratorRuntime","mark","_callee","latitude","longitude","url","response","data","wrap","_callee$","_context","prev","next","concat","fetch","sent","ok","Error","status","json","abrupt","formatData","stop","getWeather","_x","_x2","apply","arguments","formattedData","i","convertedTemp","list","main","temp","weather","date","Date","dt","temperature","description","icon","iconUrl","push"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/apis/weatherApi.js"],"sourcesContent":["\nclass weatherAPI {\n  constructor(weatherApiKey) {\n    this.apiKey = weatherApiKey_heroku;\n    this.baseURL = \"https://api.openweathermap.org/data/2.5/forecast\";\n  }\n\n  convertCELtoFAH = (num) => {\n    const converted = Math.floor(num*1.8+32)\n    return converted\n  }\n\n  async getWeather(latitude, longitude) {\n    const url = `${this.baseURL}?lat=${latitude}&lon=${longitude}&appid=${this.apiKey}&units=metric`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Unable to get weather data: ${response.status}`);\n    }\n    const data = await response.json();\n    // console.log(data)\n    return this.formatData(data);\n  }\n\n  formatData(data) {\n    const formattedData = [];\n    for (let i = 0; i < 5; i+=2) {\n      const convertedTemp = this.convertCELtoFAH(data.list[i].main.temp)\n      const weather = {\n        date: new Date(data.list[i].dt * 1000),\n        temperature: convertedTemp,\n        description: data.list[i].weather[0].description,\n        icon: data.list[i].weather[0].icon,\n        iconUrl: `https://openweathermap.org/img/wn/${data.list[i].weather[0].icon}@2x.png`\n      };\n      formattedData.push(weather);\n    }\n    return formattedData;\n  }\n}\n\nexport default weatherAPI;"],"mappings":"itBACM,CAAAA,UAAU,yBACd,SAAAA,WAAYC,aAAa,CAAE,CAAAC,eAAA,MAAAF,UAAA,OAK3BG,eAAe,CAAG,SAACC,GAAG,CAAK,CACzB,GAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CACxC,MAAO,CAAAC,SAAS,CAClB,CAAC,CAPC,IAAI,CAACG,MAAM,CAAGC,oBAAoB,CAClC,IAAI,CAACC,OAAO,CAAG,kDAAkD,CACnE,CAACC,YAAA,CAAAX,UAAA,GAAAY,GAAA,cAAAC,KAAA,gBAAAC,WAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAOD,SAAAC,QAAiBC,QAAQ,CAAEC,SAAS,MAAAC,GAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5BP,GAAG,IAAAQ,MAAA,CAAM,IAAI,CAACnB,OAAO,UAAAmB,MAAA,CAAQV,QAAQ,UAAAU,MAAA,CAAQT,SAAS,YAAAS,MAAA,CAAU,IAAI,CAACrB,MAAM,kBAAAkB,QAAA,CAAAE,IAAA,SAC1D,CAAAE,KAAK,CAACT,GAAG,CAAC,QAA3BC,QAAQ,CAAAI,QAAA,CAAAK,IAAA,IACTT,QAAQ,CAACU,EAAE,EAAAN,QAAA,CAAAE,IAAA,eACR,IAAI,CAAAK,KAAK,gCAAAJ,MAAA,CAAgCP,QAAQ,CAACY,MAAM,EAAG,QAAAR,QAAA,CAAAE,IAAA,SAEhD,CAAAN,QAAQ,CAACa,IAAI,EAAE,QAA5BZ,IAAI,CAAAG,QAAA,CAAAK,IAAA,QAAAL,QAAA,CAAAU,MAAA,UAEH,IAAI,CAACC,UAAU,CAACd,IAAI,CAAC,2BAAAG,QAAA,CAAAY,IAAA,MAAApB,OAAA,QAC7B,YAAAqB,WAAAC,EAAA,CAAAC,GAAA,SAAA3B,WAAA,CAAA4B,KAAA,MAAAC,SAAA,UAAAJ,UAAA,OAAA3B,GAAA,cAAAC,KAAA,CAED,SAAAwB,WAAWd,IAAI,CAAE,CACf,GAAM,CAAAqB,aAAa,CAAG,EAAE,CACxB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAE,CAAC,CAAE,CAC3B,GAAM,CAAAC,aAAa,CAAG,IAAI,CAAC3C,eAAe,CAACoB,IAAI,CAACwB,IAAI,CAACF,CAAC,CAAC,CAACG,IAAI,CAACC,IAAI,CAAC,CAClE,GAAM,CAAAC,OAAO,CAAG,CACdC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC7B,IAAI,CAACwB,IAAI,CAACF,CAAC,CAAC,CAACQ,EAAE,CAAG,IAAI,CAAC,CACtCC,WAAW,CAAER,aAAa,CAC1BS,WAAW,CAAEhC,IAAI,CAACwB,IAAI,CAACF,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACK,WAAW,CAChDC,IAAI,CAAEjC,IAAI,CAACwB,IAAI,CAACF,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACM,IAAI,CAClCC,OAAO,sCAAA5B,MAAA,CAAuCN,IAAI,CAACwB,IAAI,CAACF,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACM,IAAI,WAC5E,CAAC,CACDZ,aAAa,CAACc,IAAI,CAACR,OAAO,CAAC,CAC7B,CACA,MAAO,CAAAN,aAAa,CACtB,CAAC,WAAA5C,UAAA,KAGH,cAAe,CAAAA,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}