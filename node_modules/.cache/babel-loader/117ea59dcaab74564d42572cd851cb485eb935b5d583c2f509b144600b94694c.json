{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import NParksServiceRequest from\"../apis/nationalParksApi\";import NavBar from\"../NavBar\";import'../css/ArticlesSearchResults.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ArticlesSearchResults=function ArticlesSearchResults(_ref){var token=_ref.token,setToken=_ref.setToken;var _useParams=useParams(),searchTerm=_useParams.searchTerm;var _useState=useState(10),_useState2=_slicedToArray(_useState,2),numResults=_useState2[0],setNumResults=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var navigate=useNavigate();useEffect(function(){var doSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return NParksServiceRequest.searchInArticles(searchTerm,numResults);case 2:response=_context.sent;console.log(response);setResults(response);case 5:case\"end\":return _context.stop();}},_callee);}));return function doSearch(){return _ref2.apply(this,arguments);};}();doSearch();},[numResults]);var increaseNumberOfSearchResults=function increaseNumberOfSearchResults(){setNumResults(numResults+10);};var separateArray=function separateArray(arr){return arr.join(\", \");};var createParkLink=function createParkLink(arr){var buttons=[];var _iterator=_createForOfIteratorHelper(arr),_step;try{var _loop=function _loop(){var item=_step.value;buttons.push(/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/park/\".concat(item.parkCode));},children:item.name}));};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return buttons;};return/*#__PURE__*/_jsxs(\"div\",{id:\"articles-search-results-main-container\",children:[/*#__PURE__*/_jsx(NavBar,{token:token,setToken:setToken}),/*#__PURE__*/_jsxs(\"div\",{id:\"articles-main-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Article Search Results\"}),results&&results.map(function(item){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"articles-item-container\",children:[item.listingImage.url?/*#__PURE__*/_jsx(\"div\",{className:\"articles-item-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:item.listingImage.url})}):/*#__PURE__*/_jsx(\"div\",{className:\"articles-item-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:require('../images/black.png')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"articles-item-container-info\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",children:/*#__PURE__*/_jsx(\"h4\",{children:item.title})}),item.tags?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Interests:\"}),\" \",separateArray(item.tags)]}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"p\",{children:item.listingDescription}),item.relatedParks.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"related-parks-buttons\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Related Parks: \"}),createParkLink(item.relatedParks)]}):/*#__PURE__*/_jsx(_Fragment,{})]})]})});})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"articles-load-more-search-results-button\",onClick:increaseNumberOfSearchResults,children:[\"More Articles about '\",searchTerm,\"'\"]})]});};export default ArticlesSearchResults;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","NParksServiceRequest","NavBar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ArticlesSearchResults","_ref","token","setToken","_useParams","searchTerm","_useState","_useState2","_slicedToArray","numResults","setNumResults","_useState3","_useState4","results","setResults","navigate","doSearch","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","searchInArticles","sent","console","log","stop","apply","arguments","increaseNumberOfSearchResults","separateArray","arr","join","createParkLink","buttons","_iterator","_createForOfIteratorHelper","_step","_loop","item","value","push","onClick","concat","parkCode","children","name","s","n","done","err","e","f","id","map","className","listingImage","url","src","require","href","target","title","tags","listingDescription","relatedParks","length"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/components/ArticlesSearchResults.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport NParksServiceRequest from \"../apis/nationalParksApi\";\nimport NavBar from \"../NavBar\";\nimport '../css/ArticlesSearchResults.css'\n\nconst ArticlesSearchResults = ({ token, setToken }) => {\n\n  const { searchTerm } = useParams()\n  const [numResults, setNumResults] = useState(10)\n  const [results, setResults] = useState(null)\n  const navigate = useNavigate();\n\n\n  useEffect(() => {\n    const doSearch = async () => {\n      const response = await NParksServiceRequest.searchInArticles(searchTerm, numResults)\n      console.log(response)\n      setResults(response)\n    }\n    doSearch()\n  }, [numResults])\n\n  const increaseNumberOfSearchResults = () => {\n    setNumResults(numResults + 10)\n  }\n\n  const separateArray = (arr) => {\n    return arr.join(\", \");\n  }\n\n  const createParkLink = (arr) => {\n    const buttons = []\n    for (let item of arr) {\n      buttons.push(<button onClick={() => navigate(`/park/${item.parkCode}`)}>{item.name}</button>)\n    }\n    return buttons\n  }\n\n  return (\n    <div id=\"articles-search-results-main-container\">\n      <NavBar\n        token={token}\n        setToken={setToken}\n      />\n      \n      <div id=\"articles-main-container\">\n        <h1>Article Search Results</h1>\n        {results && results.map(item => {\n          return (\n            <>\n              <div className=\"articles-item-container\">\n                {item.listingImage.url\n                  ? <div className=\"articles-item-image-container\">\n                    <img src={item.listingImage.url}></img>\n                  </div>\n                  : <div className=\"articles-item-image-container\">\n                    <img src={require('../images/black.png')}></img>\n                  </div>\n                }\n                <div className=\"articles-item-container-info\">\n                  <a href={item.url} target=\"_blank\"><h4>{item.title}</h4></a>\n                  {item.tags \n                    ? <p><b>Interests:</b> {separateArray(item.tags)}</p>\n                    : <></>\n                  }\n                  <p>{item.listingDescription}</p>\n                  {item.relatedParks.length>0\n                    ? <div className=\"related-parks-buttons\">\n                        <b>Related Parks: </b>{createParkLink(item.relatedParks)}\n                      </div>\n                    : <></>\n                  }\n                </div>\n              </div>\n            </>\n\n          )\n        })}\n      </div>\n      <button className=\"articles-load-more-search-results-button\" onClick={increaseNumberOfSearchResults}>More Articles about '{searchTerm}'</button>\n    </div>\n  )\n}\n\nexport default ArticlesSearchResults;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}