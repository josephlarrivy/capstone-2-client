{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from'react-router-dom';import NavBar from\"../NavBar\";import NParksServiceRequest from'../apis/nationalParksApi';import'../css/NavBar.css';import'../css/PhotoGallery.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PhotoGallery=function PhotoGallery(_ref){var token=_ref.token,setToken=_ref.setToken;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),hoveredId=_useState4[0],setHoveredId=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loadingMoreImages=_useState6[0],setLoadingMoreImages=_useState6[1];useEffect(function(){var getInitialImages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return NParksServiceRequest.getRandomImages();case 2:resp=_context.sent;// console.log(resp)\nsetImages(resp);setLoadingMoreImages(false);case 5:case\"end\":return _context.stop();}},_callee);}));return function getInitialImages(){return _ref2.apply(this,arguments);};}();getInitialImages();},[]);var loadMoreImages=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var resp,_iterator,_step,anotherImage;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return NParksServiceRequest.getRandomImages();case 2:resp=_context2.sent;_iterator=_createForOfIteratorHelper(resp);try{for(_iterator.s();!(_step=_iterator.n()).done;){anotherImage=_step.value;images.push(anotherImage);}}catch(err){_iterator.e(err);}finally{_iterator.f();}setLoadingMoreImages(false);case 6:case\"end\":return _context2.stop();}},_callee2);}));return function loadMoreImages(){return _ref3.apply(this,arguments);};}();var turnOnIsLoadingImages=function turnOnIsLoadingImages(){setLoadingMoreImages(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-page-container\",children:[/*#__PURE__*/_jsx(NavBar,{token:token,setToken:setToken}),/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-container\",children:[images&&images.map(function(image){return/*#__PURE__*/_jsx(\"div\",{className:\"image\",style:{backgroundImage:\"url(\".concat(image.imageUrl,\")\")},onMouseEnter:function onMouseEnter(){return setHoveredId(image.imageUrl);},onMouseLeave:function onMouseLeave(){return setHoveredId(null);},children:hoveredId===image.imageUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"image-hover-div\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"b\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/park/\".concat(image.parkCode),children:image.parkName}),\" - \",image.state]})})})},image.imageUrl);}),/*#__PURE__*/_jsx(\"div\",{className:\"page-bottom\",children:loadingMoreImages?/*#__PURE__*/_jsx(\"div\",{children:\"Loading\"}):/*#__PURE__*/_jsx(\"button\",{className:\"load-more-images-button\",onClick:function onClick(){loadMoreImages();turnOnIsLoadingImages();},children:/*#__PURE__*/_jsx(\"b\",{children:\"Load more images\"})})})]})]});};export default PhotoGallery;","map":{"version":3,"names":["React","useState","useEffect","Link","NavBar","NParksServiceRequest","jsx","_jsx","jsxs","_jsxs","PhotoGallery","_ref","token","setToken","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","hoveredId","setHoveredId","_useState5","_useState6","loadingMoreImages","setLoadingMoreImages","getInitialImages","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_callee$","_context","prev","next","getRandomImages","sent","stop","apply","arguments","loadMoreImages","_ref3","_callee2","_iterator","_step","anotherImage","_callee2$","_context2","_createForOfIteratorHelper","s","n","done","value","push","err","e","f","turnOnIsLoadingImages","className","children","map","image","style","backgroundImage","concat","imageUrl","onMouseEnter","onMouseLeave","to","parkCode","parkName","state","onClick"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/components/PhotoGallery.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { Link } from 'react-router-dom';\n\n\nimport NavBar from \"../NavBar\";\nimport NParksServiceRequest from '../apis/nationalParksApi';\n\nimport '../css/NavBar.css'\nimport '../css/PhotoGallery.css'\n\n\n\n\nconst PhotoGallery = ({token, setToken}) => {\n\n  const [images, setImages] = useState([])\n  const [hoveredId, setHoveredId] = useState(null);\n  const [loadingMoreImages, setLoadingMoreImages] = useState(true)\n  \n  useEffect(() => {\n    const getInitialImages = async () => {\n      let resp = await NParksServiceRequest.getRandomImages()\n      // console.log(resp)\n      setImages(resp)\n      setLoadingMoreImages(false)\n    }\n    getInitialImages()\n  }, [])\n\n  const loadMoreImages = async () => {\n    const resp = await NParksServiceRequest.getRandomImages()\n    for (let anotherImage of resp) {\n      images.push(anotherImage)\n    }\n    setLoadingMoreImages(false)\n  }\n\n  const turnOnIsLoadingImages = () => {\n    setLoadingMoreImages(true)\n  }\n\n  return (\n    <div className=\"gallery-page-container\">\n      <NavBar\n        token={token}\n        setToken={setToken}\n      />\n      <div className=\"gallery-container\">\n        {images && images.map(image => {\n          return(\n            <div\n              key={image.imageUrl}\n              className=\"image\"\n              style={{\n                backgroundImage: `url(${image.imageUrl})`\n              }}\n              onMouseEnter={() => setHoveredId(image.imageUrl)}\n              onMouseLeave={() => setHoveredId(null)}\n            >\n              {hoveredId === image.imageUrl && (\n                <div className=\"image-hover-div\">\n                  <p><b><Link\n                    to={`/park/${image.parkCode}`\n                    }>{image.parkName}</Link> - {image.state}</b></p>\n                </div>\n              )}\n            </div>\n          )\n          }\n        )}\n        <div className=\"page-bottom\">\n          {loadingMoreImages\n            ? <div>Loading</div>\n            : <button\n              className=\"load-more-images-button\"\n              onClick={() => {\n                loadMoreImages()\n                turnOnIsLoadingImages()\n              }}\n            ><b>Load more images</b></button>\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PhotoGallery;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}