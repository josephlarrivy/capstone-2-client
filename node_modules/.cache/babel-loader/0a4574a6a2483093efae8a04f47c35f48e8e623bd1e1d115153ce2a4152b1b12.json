{"ast":null,"code":"/*!\n * Connect - favicon\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar fs = require('fs'),\n  utils = require('../utils');\n\n/**\n * Favicon cache.\n */\n\nvar icon;\n\n/**\n * By default serves the connect favicon, or the favicon\n * located by the given `path`.\n *\n * Options:\n *\n *   - `maxAge`  cache-control max-age directive, defaulting to 1 day\n *\n * Examples:\n *\n *     connect.createServer(\n *       connect.favicon()    \n *     );\n *\n *     connect.createServer(\n *       connect.favicon(__dirname + '/public/favicon.ico')    \n *     );\n *\n * @param {String} path\n * @param {Object} options\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function favicon(path, options) {\n  var options = options || {},\n    path = path || __dirname + '/../public/favicon.ico',\n    maxAge = options.maxAge || 86400000;\n  return function favicon(req, res, next) {\n    if ('/favicon.ico' == req.url) {\n      if (icon) {\n        res.writeHead(200, icon.headers);\n        res.end(icon.body);\n      } else {\n        fs.readFile(path, function (err, buf) {\n          if (err) return next(err);\n          icon = {\n            headers: {\n              'Content-Type': 'image/x-icon',\n              'Content-Length': buf.length,\n              'ETag': '\"' + utils.md5(buf) + '\"',\n              'Cache-Control': 'public, max-age=' + maxAge / 1000\n            },\n            body: buf\n          };\n          res.writeHead(200, icon.headers);\n          res.end(icon.body);\n        });\n      }\n    } else {\n      next();\n    }\n  };\n};","map":{"version":3,"names":["fs","require","utils","icon","module","exports","favicon","path","options","__dirname","maxAge","req","res","next","url","writeHead","headers","end","body","readFile","err","buf","length","md5"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/front-end/node_modules/facebook-sdk/node_modules/connect/lib/middleware/favicon.js"],"sourcesContent":["\n/*!\n * Connect - favicon\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar fs = require('fs')\n  , utils = require('../utils');\n\n/**\n * Favicon cache.\n */\n\nvar icon;\n\n/**\n * By default serves the connect favicon, or the favicon\n * located by the given `path`.\n *\n * Options:\n *\n *   - `maxAge`  cache-control max-age directive, defaulting to 1 day\n *\n * Examples:\n *\n *     connect.createServer(\n *       connect.favicon()    \n *     );\n *\n *     connect.createServer(\n *       connect.favicon(__dirname + '/public/favicon.ico')    \n *     );\n *\n * @param {String} path\n * @param {Object} options\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function favicon(path, options){\n  var options = options || {}\n    , path = path || __dirname + '/../public/favicon.ico'\n    , maxAge = options.maxAge || 86400000;\n\n  return function favicon(req, res, next){\n    if ('/favicon.ico' == req.url) {\n      if (icon) {\n        res.writeHead(200, icon.headers);\n        res.end(icon.body);\n      } else {\n        fs.readFile(path, function(err, buf){\n          if (err) return next(err);\n          icon = {\n            headers: {\n                'Content-Type': 'image/x-icon'\n              , 'Content-Length': buf.length\n              , 'ETag': '\"' + utils.md5(buf) + '\"'\n              , 'Cache-Control': 'public, max-age=' + (maxAge / 1000)\n            },\n            body: buf\n          };\n          res.writeHead(200, icon.headers);\n          res.end(icon.body);\n        });\n      }\n    } else {\n      next();\n    }\n  };\n};"],"mappings":"AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;EAClBC,KAAK,GAAGD,OAAO,CAAC,UAAU,CAAC;;AAE/B;AACA;AACA;;AAEA,IAAIE,IAAI;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAG,SAASC,OAAOA,CAACC,IAAI,EAAEC,OAAO,EAAC;EAC9C,IAAIA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvBD,IAAI,GAAGA,IAAI,IAAIE,SAAS,GAAG,wBAAwB;IACnDC,MAAM,GAAGF,OAAO,CAACE,MAAM,IAAI,QAAQ;EAEvC,OAAO,SAASJ,OAAOA,CAACK,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAC;IACrC,IAAI,cAAc,IAAIF,GAAG,CAACG,GAAG,EAAE;MAC7B,IAAIX,IAAI,EAAE;QACRS,GAAG,CAACG,SAAS,CAAC,GAAG,EAAEZ,IAAI,CAACa,OAAO,CAAC;QAChCJ,GAAG,CAACK,GAAG,CAACd,IAAI,CAACe,IAAI,CAAC;MACpB,CAAC,MAAM;QACLlB,EAAE,CAACmB,QAAQ,CAACZ,IAAI,EAAE,UAASa,GAAG,EAAEC,GAAG,EAAC;UAClC,IAAID,GAAG,EAAE,OAAOP,IAAI,CAACO,GAAG,CAAC;UACzBjB,IAAI,GAAG;YACLa,OAAO,EAAE;cACL,cAAc,EAAE,cAAc;cAC9B,gBAAgB,EAAEK,GAAG,CAACC,MAAM;cAC5B,MAAM,EAAE,GAAG,GAAGpB,KAAK,CAACqB,GAAG,CAACF,GAAG,CAAC,GAAG,GAAG;cAClC,eAAe,EAAE,kBAAkB,GAAIX,MAAM,GAAG;YACpD,CAAC;YACDQ,IAAI,EAAEG;UACR,CAAC;UACDT,GAAG,CAACG,SAAS,CAAC,GAAG,EAAEZ,IAAI,CAACa,OAAO,CAAC;UAChCJ,GAAG,CAACK,GAAG,CAACd,IAAI,CAACe,IAAI,CAAC;QACpB,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLL,IAAI,EAAE;IACR;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}