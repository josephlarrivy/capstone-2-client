{"ast":null,"code":"import axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\nconst BASE_URL = \"http://localhost:3001\";\nclass BackendApiRequest {\n  static async makeRequest(method, endpoint) {\n    let token = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    let body = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    let params = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    try {\n      const headers = {\n        authorization: `Bearer ${token}`\n      };\n      return await axios({\n        method,\n        url: `${BASE_URL}${endpoint}`,\n        data,\n        body,\n        headers,\n        params\n      });\n    } catch (err) {\n      console.log('catching error in API');\n      console.error(err);\n      return err;\n    }\n  }\n  static async test(data) {\n    const resp = await this.makeRequest('get', '/auth/test', null, data);\n    console.log(resp);\n    return resp;\n  }\n  static async registerNewUser(formData) {\n    const data = formData;\n    console.log('register');\n    return await this.makeRequest('post', '/auth/register', null, data);\n  }\n  static async login(formData) {\n    const data = formData;\n    console.log('login');\n    return await this.makeRequest('post', '/auth/login', null, data);\n  }\n  static decodeToken(token) {\n    try {\n      return jwtDecode(token);\n    } catch {\n      return 'invalid';\n    }\n  }\n  static async addTripName(formData) {\n    // console.log('formData:', formData)\n    const data = formData;\n    console.log('backendApi:', data);\n    return await this.makeRequest('post', '/trip/addTripName', null, data);\n  }\n  static async getUserTrips(username) {\n    const params = {\n      'username': username\n    };\n    try {\n      const response = await this.makeRequest('get', '/trip/getTrips', null, null, null, params);\n      return response.data.data;\n    } catch (err) {\n      return err;\n    }\n  }\n  static async deleteTrip(tripname) {\n    const params = {\n      'tripname': tripname\n    };\n    try {\n      const response = await this.makeRequest('post', '/trip/deleteTrip', null, null, null, params);\n      return response;\n    } catch (err) {\n      return err;\n    }\n  }\n}\nexport default BackendApiRequest;","map":{"version":3,"names":["axios","jwtDecode","BASE_URL","BackendApiRequest","makeRequest","method","endpoint","token","arguments","length","undefined","data","body","params","headers","authorization","url","err","console","log","error","test","resp","registerNewUser","formData","login","decodeToken","addTripName","getUserTrips","username","response","deleteTrip","tripname"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/front-end/src/apis/backendApi.js"],"sourcesContent":["import axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\n\n\nconst BASE_URL = \"http://localhost:3001\";\n\nclass BackendApiRequest {\n\n  static async makeRequest(method, endpoint, token = null, data = {}, body = {}, params = {}) {\n    try {\n      const headers = { authorization: `Bearer ${token}` }\n      return (\n        await axios({ method, url: `${BASE_URL}${endpoint}`, data, body, headers, params })\n      );\n    } catch (err) {\n      console.log('catching error in API')\n      console.error(err);\n      return err\n    }\n  }\n\n\n\n  static async test(data) {\n    const resp = await this.makeRequest('get', '/auth/test', null, data)\n    console.log(resp)\n    return resp\n  }\n\n  static async registerNewUser(formData) {\n    const data = formData;\n    console.log('register')\n    return (\n      await this.makeRequest('post', '/auth/register', null, data)\n    )\n  }\n\n  static async login(formData) {\n    const data = formData;\n    console.log('login')\n    return (\n      await this.makeRequest('post', '/auth/login', null, data)\n    )\n  }\n\n  static decodeToken(token) {\n    try {\n      return jwtDecode(token)\n    } catch {\n      return 'invalid'\n    }\n  }\n\n  static async addTripName(formData) {\n    // console.log('formData:', formData)\n    const data = formData;\n    console.log('backendApi:', data)\n    return (\n      await this.makeRequest('post', '/trip/addTripName', null, data)\n    )\n  }\n\n  static async getUserTrips(username) {\n    const params = { 'username': username };\n    try {\n      const response = await this.makeRequest('get', '/trip/getTrips', null, null, null, params);\n      return response.data.data;\n    } catch (err) {\n      return err;\n    }\n  }\n\n  static async deleteTrip(tripname) {\n    const params = { 'tripname': tripname };\n    try {\n      const response = await this.makeRequest('post', '/trip/deleteTrip', null, null, null, params);\n      return response\n    } catch (err) {\n      return err;\n    }\n  }\n\n\n}\n\nexport default BackendApiRequest;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}