{"ast":null,"code":"import _regeneratorRuntime from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import BackendApiRequest from\"../apis/backendApi\";import NavBar from\"../NavBar\";import'../css/TripDetails.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TripDetails=function TripDetails(_ref){var token=_ref.token,setToken=_ref.setToken;var _useParams=useParams(),id=_useParams.id,tripname=_useParams.tripname;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),usersItems=_useState2[0],setUsersItems=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),resetItems=_useState4[0],setResetItems=_useState4[1];useEffect(function(){setResetItems(!resetItems);},[]);useEffect(function(){var getItems=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var items;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return BackendApiRequest.getItemsByTripId(id);case 2:items=_context.sent;setUsersItems(items);case 4:case\"end\":return _context.stop();}},_callee);}));return function getItems(){return _ref2.apply(this,arguments);};}();getItems();},[resetItems]);var deleteItem=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var deletedItem;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return BackendApiRequest.deleteItem(id);case 2:deletedItem=_context2.sent;setResetItems(!resetItems);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function deleteItem(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"trip-details-container\",children:[/*#__PURE__*/_jsx(NavBar,{token:token,setToken:setToken}),/*#__PURE__*/_jsxs(\"div\",{id:\"trip-details-inner-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Trip Details: \",tripname]}),usersItems&&usersItems.map(function(item){var itemTypeUppercase=item.type.toUpperCase();return/*#__PURE__*/_jsxs(\"div\",{className:\"single-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-left-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-category-\".concat(item.type)}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"\".concat(item.route));},children:\"Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){deleteItem(item.itemid);},children:\"Delete\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-middle-container\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[itemTypeUppercase,\" - \",item.name]}),/*#__PURE__*/_jsx(\"p\",{children:item.description})]})]},item.itemid);})]})]});};export default TripDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","BackendApiRequest","NavBar","jsx","_jsx","jsxs","_jsxs","TripDetails","_ref","token","setToken","_useParams","id","tripname","navigate","_useState","_useState2","_slicedToArray","usersItems","setUsersItems","_useState3","_useState4","resetItems","setResetItems","getItems","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","items","wrap","_callee$","_context","prev","next","getItemsByTripId","sent","stop","apply","arguments","deleteItem","_ref3","_callee2","deletedItem","_callee2$","_context2","_x","children","map","item","itemTypeUppercase","type","toUpperCase","className","concat","onClick","route","itemid","name","description"],"sources":["/Users/josephlarrivy/software-engineering/springboard/assignments/capstone-2-rework/client/src/components/TripDetails.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport BackendApiRequest from \"../apis/backendApi\";\nimport NavBar from \"../NavBar\";\n\nimport '../css/TripDetails.css'\n\nconst TripDetails = ({ token, setToken }) => {\n\n  const { id, tripname } = useParams()\n  const navigate = useNavigate()\n  const [usersItems, setUsersItems] = useState(null)\n  const [resetItems, setResetItems] = useState(false)\n\n  useEffect(() => {\n    setResetItems(!resetItems)\n  }, [])\n\n\n  useEffect(() => {\n    const getItems = async () => {\n      const items = await BackendApiRequest.getItemsByTripId(id)\n      setUsersItems(items)\n    }\n    getItems()\n  }, [resetItems])\n\n\n  const deleteItem = async (id) => {\n    const deletedItem = await BackendApiRequest.deleteItem(id)\n    setResetItems(!resetItems)\n  }\n\n  return (\n    <div id=\"trip-details-container\">\n      <NavBar\n        token={token}\n        setToken={setToken}\n      />\n      <div id=\"trip-details-inner-container\">\n        <h1>Trip Details: {tripname}</h1>\n        {/* <h1>Itinerary</h1> */}\n        {usersItems && usersItems.map(item => {\n\n          const itemTypeUppercase = item.type.toUpperCase();\n\n          return (\n            <div key={item.itemid} className=\"single-item\">\n              <div className=\"item-left-container\">\n                <div className={`item-category-${item.type}`}>\n                  {/* <p>{item.type}</p> */}\n                </div>\n                <button onClick={() => navigate(`${item.route}`)} >Details</button>\n                <button onClick={() => { deleteItem(item.itemid) }}>Delete</button>\n              </div>\n              <div className=\"item-middle-container\">\n                <h4>{itemTypeUppercase} - {item.name}</h4>\n                <p>{item.description}</p>\n              </div>\n            </div>\n\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default TripDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}